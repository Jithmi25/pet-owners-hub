<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Details | Pet Owners Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="shops.css">
</head>
<body>
    <!-- Navigation -->
    <header class="shops-header">
        <nav>
            <div class="logo">
                <h1>Pet Owners Hub</h1>
            </div>
            <ul class="nav-links">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../vet-clinics/clinics.html">Vet Clinics</a></li>
                <li><a href="shops.html">Pet Shops</a></li>
                <li><a href="../../marketplace/marketplace.html">Marketplace</a></li>
                <li><a href="../../user-authentication/profile/profile.html">Profile</a></li>
                <li><a href="../../index.html">Logout</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="shop-details-container">
        <div class="shop-details">
            <div class="shop-images">
                <div class="main-image">
                    <img src="../../assets/images/shop1.jpg" alt="Paws & Claws Pet Store" id="mainShopImage">
                </div>
                <div class="thumbnail-images">
                    <img src="../../assets/images/shop1-thumb1.jpg" alt="Store Thumbnail 1">
                    <img src="../../assets/images/shop1-thumb2.jpeg" alt="Store Thumbnail 2">
                </div>
            </div>

            <div class="shop-info">
                <h1>Paws & Claws Pet Store</h1>
                <div class="rating">
                    ★★★★☆ <span>(128 reviews)</span>
                </div>
                <p class="location"><i class="fas fa-map-marker-alt"></i> Kandy, Dalada Vidiya </p>
                
                <div class="shop-meta">
                    <div><span>Hours:</span> 9 AM - 8 PM</div>
                    <div><span>Phone:</span> 081 555-1234</div>
                    <div><span>Categories:</span> Pet Food, Toys, Grooming</div>
                </div>

                <div class="owner-info">
                    <h3>Shop Owner</h3>
                    <div class="owner-card">
                        <img src="../../assets/images/owner1.jpeg" alt="Shop Owner">
                        <div>
                            <h4>M. K. Wickramarathna</h4>
                            <p>Owner since 2018</p>
                            <div class="rating">
                                ★★★★★ <span>(42 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-outline" id="contactOwnerBtn"><i class="fas fa-envelope"></i> Contact Owner</button>
                </div>

                <div class="shop-actions">
                    <button class="btn btn-primary" id="getDirectionsBtn"><i class="fas fa-directions"></i> Get Directions</button>
                    <button class="btn btn-outline" id="saveShopBtn"><i class="fas fa-heart"></i> Save Shop</button>
                </div>
            </div>

            <div class="shop-description">
                <h2>About This Shop</h2>
                <p>Paws & Claws Pet Store is your one-stop shop for all pet supplies. We offer premium pet food, toys, and grooming services for all types of pets. Our knowledgeable staff is always ready to help you find the perfect products for your furry friends.</p>
                <p>We pride ourselves on carrying only the highest quality products from trusted brands. From organic foods to durable toys, we have everything you need to keep your pets happy and healthy.</p>
                
                <h3>Services Offered</h3>
                <ul>
                    <li>Pet grooming and bathing</li>
                    <li>Nutritional counseling</li>
                    <li>Pet adoption events</li>
                    <li>Delivery services</li>
                </ul>
            </div>
        </div>

        <div class="products-section">
            <h2>Popular Products</h2>
            <div class="products-grid">
                <div class="product-card">
                    <img src="../../assets/images/product1.jpg" alt="Premium Dog Food">
                    <div class="product-info">
                        <h4>Premium Dog Food</h4>
                        <p class="product-price">RS.1045.00</p>
                    </div>
                </div>
                <div class="product-card">
                    <img src="../../assets/images/product2.jpg" alt="Cat Toy Set">
                    <div class="product-info">
                        <h4>Cat Toy Set</h4>
                        <p class="product-price">RS.4990.00</p>
                    </div>
                </div>
                <div class="product-card">
                    <img src="../../assets/images/product3.webp" alt="Dog Leash">
                    <div class="product-info">
                        <h4>Premium Dog Leash</h4>
                        <p class="product-price">RS.990.00</p>
                    </div>
                </div>
                <div class="product-card">
                    <img src="../../assets/images/product4.jpg" alt="Pet Bowl">
                    <div class="product-info">
                        <h4>Stainless Steel Bowl</h4>
                        <p class="product-price">RS.1200.00</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Contact Owner Modal -->
    <div class="modal" id="contactOwnerModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('contactOwnerModal')">&times;</button>
            <h2><i class="fas fa-user-circle"></i> Contact Shop Owner</h2>
            <div class="owner-contact-info">
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <h4>Email</h4>
                        <a href="mailto:mkwickrama@petshop.lk">mkwickrama@petshop.lk</a>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <h4>Phone</h4>
                        <a href="tel:+94815551234">+94 81 555 1234</a>
                    </div>
                </div>
                <div class="social-media-links">
                    <h4>Follow on Social Media</h4>
                    <div class="social-buttons">
                        <a href="#" class="social-btn facebook"><i class="fab fa-facebook-f"></i> Facebook</a>
                        <a href="#" class="social-btn instagram"><i class="fab fa-instagram"></i> Instagram</a>
                        <a href="#" class="social-btn whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                        <a href="#" class="social-btn twitter"><i class="fab fa-twitter"></i> Twitter</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Map Modal -->
    <div class="modal" id="mapModal">
        <div class="modal-content map-modal-content">
            <button class="modal-close" onclick="closeModal('mapModal')">&times;</button>
            <h2><i class="fas fa-map-marked-alt"></i> Shop Location</h2>
            <div class="map-info">
                <p><i class="fas fa-map-marker-alt"></i> Kandy, Dalada Vidiya</p>
                <p><i class="fas fa-phone"></i> 081 555-1234</p>
            </div>
            <div id="shopMap" style="height: 400px; border-radius: 8px; margin-top: 1rem;"></div>
            <div class="map-actions">
                <a href="https://www.google.com/maps/dir/?api=1&destination=7.2906,80.6337" target="_blank" class="btn btn-primary">
                    <i class="fas fa-directions"></i> Open in Google Maps
                </a>
            </div>
        </div>
    </div>

    <!-- Save Confirmation Modal -->
    <div class="modal" id="saveShopModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('saveShopModal')">&times;</button>
            <div class="modal-icon success">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Shop Saved!</h2>
            <p>Paws & Claws Pet Store has been added to your saved shops.</p>
            <p>You can view all your saved shops in your <a href="../../user-authentication/profile/profile.html">profile</a>.</p>
            <button class="btn btn-primary" onclick="closeModal('saveShopModal')">Done</button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Pet Owners Hub</h3>
                <p>Your one-stop solution for all pet care needs, connecting pet lovers with quality services.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../vet-clinics/clinics.html">Vet Clinics</a></li>
                    <li><a href="shops.html">Pet Shops</a></li>
                    <li><a href="../../marketplace/marketplace.html">Marketplace</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Support</h3>
                  <ul>
                    <li><a href="../../support/support.html#contact">Contact Us</a></li>
                    <li><a href="../../support/support.html#faqs">FAQs</a></li>
                    <li><a href="../../support/support.html#privacy">Privacy Policy</a></li>
                    <li><a href="../../support/support.html#terms">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Pet Owners Hub. All rights reserved.</p>
        </div>
    </footer>

    <script src="shops.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: slideUp 0.3s ease;
        }

        .map-modal-content {
            max-width: 700px;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: #666;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #f0f0f0;
            color: #333;
        }

        .modal h2 {
            margin-bottom: 1.5rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .owner-contact-info {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: var(--light);
            border-radius: 8px;
        }

        .contact-item i {
            font-size: 1.5rem;
            color: var(--primary);
            margin-top: 0.25rem;
        }

        .contact-item h4 {
            margin: 0 0 0.25rem 0;
            color: var(--dark);
        }

        .contact-item a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .contact-item a:hover {
            text-decoration: underline;
        }

        .social-media-links {
            margin-top: 1rem;
        }

        .social-media-links h4 {
            margin-bottom: 1rem;
            color: var(--dark);
        }

        .social-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            color: white;
            transition: all 0.3s ease;
        }

        .social-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .social-btn.facebook {
            background: #1877f2;
        }

        .social-btn.instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }

        .social-btn.whatsapp {
            background: #25d366;
        }

        .social-btn.twitter {
            background: #1da1f2;
        }

        .map-info {
            background: var(--light);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .map-info p {
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .map-info i {
            color: var(--primary);
        }

        .map-actions {
            margin-top: 1rem;
            text-align: center;
        }

        .modal-icon.success {
            text-align: center;
            font-size: 4rem;
            color: #4caf50;
            margin-bottom: 1rem;
        }

        .modal-content p {
            text-align: center;
            margin: 0.5rem 0;
            color: var(--text);
        }

        .modal-content p a {
            color: var(--primary);
            font-weight: 600;
            text-decoration: none;
        }

        .modal-content p a:hover {
            text-decoration: underline;
        }

        .modal-content button.btn {
            width: 100%;
            margin-top: 1rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .social-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <script>
        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeModal(e.target.id);
            }
        });

        // Image swap functionality for shop details page
        document.addEventListener('DOMContentLoaded', function() {
            const thumbnails = document.querySelectorAll('.thumbnail-images img');
            const mainImage = document.getElementById('mainShopImage');
            
            if (thumbnails.length > 0 && mainImage) {
                thumbnails.forEach(thumb => {
                    thumb.addEventListener('click', function() {
                        // Store the current main image source and alt
                        const currentMainSrc = mainImage.src;
                        const currentMainAlt = mainImage.alt;
                        
                        // Store the clicked thumbnail source and alt
                        const clickedThumbSrc = this.src;
                        const clickedThumbAlt = this.alt;
                        
                        // Swap: Set main image to clicked thumbnail
                        mainImage.src = clickedThumbSrc;
                        mainImage.alt = clickedThumbAlt;
                        
                        // Swap: Set clicked thumbnail to previous main image
                        this.src = currentMainSrc;
                        this.alt = currentMainAlt;
                        
                        // Add visual feedback with a subtle animation
                        mainImage.style.opacity = '0.7';
                        setTimeout(() => {
                            mainImage.style.opacity = '1';
                        }, 150);
                    });
                    
                    // Add hover effect styling
                    thumb.style.cursor = 'pointer';
                    thumb.style.transition = 'all 0.3s ease';
                    
                    thumb.addEventListener('mouseenter', function() {
                        this.style.transform = 'scale(1.1)';
                        this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
                    });
                    
                    thumb.addEventListener('mouseleave', function() {
                        this.style.transform = 'scale(1)';
                        this.style.boxShadow = 'none';
                    });
                });
            }

            // Contact Owner Button
            document.getElementById('contactOwnerBtn').addEventListener('click', function() {
                openModal('contactOwnerModal');
            });

            // Get Directions Button
            document.getElementById('getDirectionsBtn').addEventListener('click', function() {
                openModal('mapModal');
                // Initialize map after modal opens
                setTimeout(initializeMap, 300);
            });

            // Save Shop Button
            document.getElementById('saveShopBtn').addEventListener('click', function() {
                const shopName = 'Paws & Claws Pet Store';
                const shopId = '1'; // This would come from URL params or data attribute
                
                // Save to localStorage (Backend integration point)
                let savedShops = JSON.parse(localStorage.getItem('savedShops') || '[]');
                
                // Check if already saved
                if (!savedShops.includes(shopId)) {
                    savedShops.push(shopId);
                    localStorage.setItem('savedShops', JSON.stringify(savedShops));
                    
                    // Update button
                    this.innerHTML = '<i class="fas fa-heart"></i> Saved';
                    this.style.background = '#4caf50';
                    this.style.color = 'white';
                    
                    // Show success modal
                    openModal('saveShopModal');
                } else {
                    alert('This shop is already in your saved list!');
                }
            });

            // Check if shop is already saved
            const shopId = '1';
            let savedShops = JSON.parse(localStorage.getItem('savedShops') || '[]');
            if (savedShops.includes(shopId)) {
                const saveBtn = document.getElementById('saveShopBtn');
                saveBtn.innerHTML = '<i class="fas fa-heart"></i> Saved';
                saveBtn.style.background = '#4caf50';
                saveBtn.style.color = 'white';
            }
        });

        // Initialize map for shop location
        function initializeMap() {
            // Check if map already exists
            if (document.getElementById('shopMap')._leaflet_id) {
                return;
            }

            // Shop coordinates (Kandy, Dalada Vidiya)
            const shopLat = 7.2906;
            const shopLng = 80.6337;
            
            // Create map
            const map = L.map('shopMap').setView([shopLat, shopLng], 15);
            
            // Add tile layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
            
            // Add marker
            const marker = L.marker([shopLat, shopLng]).addTo(map);
            marker.bindPopup('<b>Paws & Claws Pet Store</b><br>Kandy, Dalada Vidiya').openPopup();
        }
    </script>
</body>
</html>